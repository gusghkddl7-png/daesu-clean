@tailwind base;
@tailwind components;
@tailwind utilities;

/* 표 기본 라인 */
table { border-collapse: separate; border-spacing: 0; }
th, td { border-bottom: 1px solid #e5e7eb; }

/* 공통 입력/버튼 스타일 - Tailwind 컴포넌트 레이어 */
@layer components {
  .input { @apply w-full border rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-blue-300; }
  .btn { @apply border rounded-lg px-3 py-2; }
  .btn-primary { @apply rounded-lg px-3 py-2 text-white bg-blue-600; }
}
/* UI Scale Vars */
html { --ui-font: 12px; --cell-px: .5rem; --cell-py: .25rem; }
html[data-uifont="s"]  { --ui-font: 11px; }
html[data-uifont="m"]  { --ui-font: 12px; }
html[data-uifont="l"]  { --ui-font: 14px; }
html[data-uifont="xl"] { --ui-font: 16px; }
html[data-uidensity="compact"]      { --cell-py: .25rem; }
html[data-uidensity="cozy"]         { --cell-py: .375rem; }
html[data-uidensity="comfortable"]  { --cell-py: .5rem; }

/* 공통 콤팩트 테이블 클래스 */
.table-compact { font-size: var(--ui-font) !important; line-height: 1.25; }
.table-compact th, .table-compact td { padding: var(--cell-py) var(--cell-px) !important; }
.table-compact thead th { position: sticky; top: 0; background: #f9fafb; z-index: 1; }
/* Fallback: compact tables without class */
html[data-uifont] table { font-size: var(--ui-font) !important; line-height: 1.25; }
html[data-uidensity] table th,
html[data-uidensity] table td { padding: var(--cell-py) var(--cell-px) !important; }
/* Ultra Compact Fallback */
html[data-uifont] table,
html[data-uifont] table * { font-size: var(--ui-font) !important; line-height: 1.25 !important; }

html[data-uidensity] table th,
html[data-uidensity] table td {
  padding-top: var(--cell-py) !important;
  padding-bottom: var(--cell-py) !important;
  padding-left: var(--cell-px) !important;
  padding-right: var(--cell-px) !important;
}

.table-remark-last td:last-child,
.table-remark-last th:last-child {
  max-width: 240px;
  min-width: 240px;
}
.table-remark-last td:last-child {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}


.table-remark-last td:last-child,
.table-remark-last th:last-child {
  max-width: 240px;
  min-width: 240px;
}
.table-remark-last td:last-child {
  /* 두 줄까지만 보이고 넘치면 … */
  overflow: hidden;
  white-space: normal;
}
.table-remark-last td:last-child,
.table-remark-last td:last-child > div,
.table-remark-last td:last-child > span,
.table-remark-last td:last-child > p {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  text-overflow: ellipsis;
}

/* === /clients 전용: 폰트 크기 컨트롤이 확실히 먹도록 상속 강제 === */
.clients-font {
  --clients-font-px: 14px;
  font-size: var(--clients-font-px);
  line-height: 1.35;
}
.clients-font, .clients-font * {
  font-size: inherit !important;
  line-height: inherit !important;
}

/* === remark column v2: fixed 240px + 2-line clamp + hard wrap === */
.table-remark-last td:last-child,
.table-remark-last th:last-child {
  max-width: 240px;
  min-width: 240px;
}
.table-remark-last td:last-child {
  overflow: hidden;
  white-space: normal;               /* 줄바꿈 허용 */
  word-break: break-word;            /* 긴 단어도 줄바꿈 */
  overflow-wrap: anywhere;           /* 공백 없어도 줄바꿈 */
}
.table-remark-last td:last-child,
.table-remark-last td:last-child > *,
.table-remark-last td:last-child > div,
.table-remark-last td:last-child > span,
.table-remark-last td:last-child > p {
  display: -webkit-box;
  -webkit-line-clamp: 2;             /* 최대 2줄 */
  -webkit-box-orient: vertical;
  text-overflow: ellipsis;
}

/* === /clients 전용: 폰트 상속을 더 강하게 === */
.clients-font { --clients-font-px: 14px; font-size: var(--clients-font-px); line-height: 1.35; }
.clients-font, .clients-font * { font-size: inherit !important; line-height: inherit !important; }
/* === clients font UI: 클릭 보장 === */
#clients-font-ui, #clients-font-ui * {
  pointer-events: auto !important;
}
/* === 글로벌 폰트 크기 (전 페이지 공통) === */




/* 대시보드 우하단 컨트롤 클릭 보장 */


/* === page-only font control === */
:root { --page-font-px: 14px; }
.page-font { font-size: var(--page-font-px); line-height: 1.35; }
.page-font, .page-font * { font-size: inherit !important; line-height: inherit !important; }
/* 우하단 컨트롤 클릭 보장 */
#page-font-ui, #page-font-ui * { pointer-events: auto !important; }
/* === 급한임차 종료 공통 스타일 === */
.urgent-closed { opacity: .6; }
.urgent-closed td:last-child::after { content:" (종료)"; color:#6b7280; font-size:12px; margin-left:4px; }
.urgent-close-btn{ font-size:12px; border:1px solid #e5e7eb; padding:2px 6px; border-radius:6px; background:#fff; }
.urgent-close-btn:hover{ background:#f9fafb; }
/* urgent sync badge */
#urgent-sync-badge{position:fixed;right:8px;bottom:8px;z-index:99999;font-size:12px;background:#111827;color:#fff;padding:4px 8px;border-radius:8px;opacity:.85}
#urgent-sync-badge.ok{background:#166534}
#urgent-sync-badge.zero{background:#6b7280}
.row-clickable{cursor:pointer}
@keyframes rowflash{0%{outline:2px solid #60a5fa}100%{outline:0 solid transparent}}
.row-focus{animation:rowflash 1.6s ease-out 2}
.urgent-closed{opacity:.6}
#urgent-bridge-badge{position:fixed;right:10px;bottom:10px;z-index:99999;background:#111827;color:#fff;border-radius:8px;padding:4px 8px;font-size:12px;opacity:.88;pointer-events:none}
.row-clickable{cursor:pointer}
@keyframes rowflash{0%{outline:2px solid #60a5fa}100%{outline:0 solid transparent}}
.row-focus{animation:rowflash 1.2s ease-out 2}

#clients-urgent-only-ui{position:fixed;right:12px;bottom:12px;z-index:99999;pointer-events:auto}
#clients-urgent-only-ui button{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:6px 10px;box-shadow:0 1px 3px rgba(0,0,0,.08);font-size:12px}
#clients-urgent-only-ui button:hover{background:#f9fafb}
.cuo-btn{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border:1px solid #e5e7eb;border-radius:8px;background:#fff;font-size:12px;line-height:1}

.cuo-btn:hover{background:#f9fafb}

.cuo-btn{margin-left:8px;padding:6px 10px;border-radius:8px;border:1px solid #e5e7eb;background:#f9fafb;font-size:13px}
.cuo-btn:hover{background:#eef2ff}
/* 급한만 보기 ON: 비급한 행 숨김 */

body.cuo-on table tbody tr[data-urgent="0"]{ display:none !important; }

/* 필요시 색 하이라이트(이미 있으면 무시) */

